<div class="shop-items">
   <div class="container">
     <div class="row">

        <% if params[:keywords] %>

          <div data-hook="search_results">
            <% if @products.empty? %>
              <h6 class="search-results-title"><%= Spree.t(:no_products_found) %></h6>
            <% else %>
              <%= render :partial => 'spree/shared/products', :locals => { :products => @products, :taxon => @taxon } %>
            <% end %>
          </div>

        <% else %>

          <% cache(cache_key_for_products) do %>
            <%= render :partial => 'spree/shared/products', :locals => { :products => @products, :taxon => @taxon } %>
          <% end %>

        <% end %>

        <div class="col-md-3 col-md-pull-9">
          <div class="sidey">
            <% if "spree/products" == params[:controller] && @taxon %>
            <%= render :partial => 'spree/shared/filters' %>
            <% else %>
            <%= render :partial => 'spree/shared/taxonomies' %>
            <% end %>
          </div>
        </div>

     </div>
   </div>
</div>
